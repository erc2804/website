import React, {Component} from "react"
import {Link} from "gatsby"
import Header from "../components/header"
// --- styles
import "../styles/global.scss"
import errorStyles from "../styles/error.module.scss"

class errorPage extends Component {
  constructor() {
    super()
    this.state = {
      orientation: "",
      width: "",
      height: "",
      trainPassed: false
    }
    this.updateDimensions = this.updateDimensions.bind(this);
  }

  componentDidMount(){ 
    this.updateDimensions();
    window.addEventListener("resize", this.updateDimensions);
    setTimeout(() => {
      this.setState({ trainPassed: true });
    }, 2750);
  }

  componentWillUnmount() {
    window.removeEventListener("resize", this.updateDimensions);
    this.setState({
      trainPassed: false
    });
  }

  updateDimensions() {
    this.setState({
      orientation: (window.matchMedia("(orientation: portrait)").matches ? "portrait" : "landscape"),
      width: window.innerWidth,
      height: window.innerHeight
    })
  }

  render() {
    return (
      <div className={errorStyles.errorPageWrapper}>
        <Header></Header>
        <div className={errorStyles.bgContainer}>
          <div className={errorStyles.trainContainer}>
              <svg viewBox="0 0 1197 140" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M140.085 4.15887C131.637 4.15887 123.327 6.08511 115.787 9.82752C114.742 10.3504 113.723 10.9833 112.76 11.6437L15.4028 78.1814C-5.51058 92.4906 4.61591 125.209 29.9322 125.209C58.4955 125.209 87.9944 125.237 106.844 125.237H128.748C131.362 130.905 137.086 134.868 143.745 134.868C150.404 134.868 156.128 130.905 158.742 125.237H175.528C178.142 130.905 183.866 134.868 190.525 134.868C197.184 134.868 202.908 130.905 205.522 125.237H212.677H363.611V4.15887H140.085Z" fill="white"/>
                  <path fillRule="evenodd" clipRule="evenodd" d="M113.953 6.13025C122.071 2.10093 131.011 0.0312195 140.087 0.0312195H367.74V129.364H207.966C204.318 135.128 197.889 138.995 190.526 138.995C183.164 138.995 176.735 135.128 173.086 129.364H161.186C157.538 135.128 151.109 138.995 143.746 138.995C136.384 138.995 129.955 135.128 126.306 129.364H106.845C98.4067 129.364 87.8344 129.359 76.1689 129.353L72.0298 129.35C58.7285 129.344 44.2139 129.337 29.9334 129.337C0.555732 129.337 -11.1869 91.3738 13.0733 74.7748L110.427 8.23948C110.428 8.23876 110.429 8.23803 110.43 8.23731C111.489 7.51149 112.675 6.76955 113.943 6.13563L113.953 6.13025ZM117.63 13.5214C116.809 13.9322 115.961 14.4545 115.096 15.0479L17.7349 81.588C17.7343 81.5884 17.7355 81.5875 17.7349 81.588C0.170589 93.6079 8.67931 121.081 29.9334 121.081C44.2162 121.081 58.7328 121.088 72.0341 121.095L76.0766 121.097C87.7809 121.103 98.3858 121.109 106.845 121.109H131.391L132.498 123.508C134.468 127.782 138.771 130.74 143.746 130.74C148.722 130.74 153.024 127.782 154.995 123.508L156.102 121.109H178.171L179.278 123.508C181.248 127.782 185.551 130.74 190.526 130.74C195.502 130.74 199.804 127.782 201.775 123.508L202.882 121.109H359.485V8.28652H140.087C132.269 8.28652 124.59 10.0681 117.63 13.5214Z" fill="black"/>
                  <path d="M73.5776 39.9318H136.868V83.9601H9.57153L73.5776 39.9318Z" fill="#CCCCCC"/>
                  <path fillRule="evenodd" clipRule="evenodd" d="M71.2383 36.5311C71.9266 36.0576 72.7423 35.8042 73.5776 35.8042H136.868C139.148 35.8042 140.996 37.6522 140.996 39.9318V83.9601C140.996 86.2397 139.148 88.0877 136.868 88.0877H9.57156C7.76373 88.0877 6.16627 86.9113 5.62982 85.1849C5.09337 83.4585 5.74279 81.5839 7.23226 80.5593L71.2383 36.5311ZM74.8602 44.0595L22.8553 79.8324H132.741V44.0595H74.8602Z" fill="black"/>
                  <path d="M194.023 83.9601L363.615 83.9601L363.615 39.9318L194.023 39.9318L194.023 83.9601Z" fill="#CCCCCC"/>
                  <path fillRule="evenodd" clipRule="evenodd" d="M367.742 83.9601C367.742 86.2397 365.894 88.0877 363.615 88.0877L194.023 88.0877C191.744 88.0877 189.896 86.2397 189.896 83.9601L189.896 39.9318C189.896 37.6522 191.744 35.8042 194.023 35.8042L363.615 35.8042C365.894 35.8042 367.742 37.6522 367.742 39.9318L367.742 83.9601ZM359.487 79.8324L359.487 44.0595L198.151 44.0595L198.151 79.8324L359.487 79.8324Z" fill="black"/>
                  <path d="M1055.96 4.15887C1064.4 4.15887 1072.71 6.08511 1080.25 9.82752C1081.3 10.3504 1082.32 10.9833 1083.28 11.6437L1180.61 78.2089C1201.53 92.5181 1191.4 125.237 1166.08 125.237C1137.52 125.237 1108.02 125.264 1089.17 125.264H1067.27C1064.65 130.933 1058.93 134.895 1052.27 134.895C1045.61 134.895 1039.89 130.933 1037.27 125.264H1020.49C1017.87 130.933 1012.15 134.895 1005.49 134.895C998.83 134.895 993.106 130.933 990.492 125.264H983.338H832.431V4.18639H1055.96V4.15887Z" fill="white"/>
                  <path fillRule="evenodd" clipRule="evenodd" d="M1051.83 0.0587325H828.303V129.392H988.049C991.697 135.155 998.127 139.023 1005.49 139.023C1012.85 139.023 1019.28 135.155 1022.93 129.392H1034.83C1038.48 135.155 1044.91 139.023 1052.27 139.023C1059.63 139.023 1066.06 135.155 1069.71 129.392H1089.17C1097.61 129.392 1108.18 129.386 1119.85 129.38L1123.99 129.378C1137.29 129.371 1151.8 129.364 1166.08 129.364C1195.46 129.364 1207.2 91.4014 1182.94 74.8023L1085.62 8.23948C1085.62 8.23976 1085.62 8.2392 1085.62 8.23948C1084.56 7.51323 1083.37 6.76993 1082.1 6.13561L1082.09 6.13025C1073.97 2.10093 1065.03 0.0312195 1055.96 0.0312195H1051.83V0.0587325ZM1057.64 8.31403H836.558V121.136H993.134L994.24 123.536C996.211 127.809 1000.51 130.768 1005.49 130.768C1010.47 130.768 1014.77 127.809 1016.74 123.536L1017.84 121.136H1039.91L1041.02 123.536C1042.99 127.809 1047.29 130.768 1052.27 130.768C1057.25 130.768 1061.55 127.809 1063.52 123.536L1064.62 121.136H1089.17C1097.63 121.136 1108.23 121.131 1119.94 121.125L1123.98 121.123C1137.28 121.116 1151.8 121.109 1166.08 121.109C1187.34 121.109 1195.85 93.6348 1178.28 81.6155L1080.95 15.0479C1080.08 14.4545 1079.23 13.9323 1078.41 13.5214C1071.95 10.3161 1064.87 8.55097 1057.64 8.31403Z" fill="black"/>
                  <path d="M1122.44 39.9318H1059.15V83.9601H1186.45L1122.44 39.9318Z" fill="#CCCCCC"/>
                  <path fillRule="evenodd" clipRule="evenodd" d="M1055.02 39.9318C1055.02 37.6522 1056.87 35.8042 1059.15 35.8042H1122.44C1123.28 35.8042 1124.09 36.0576 1124.78 36.5311L1188.79 80.5593C1190.28 81.5839 1190.92 83.4585 1190.39 85.1849C1189.85 86.9113 1188.25 88.0877 1186.45 88.0877H1059.15C1056.87 88.0877 1055.02 86.2397 1055.02 83.9601V39.9318ZM1063.28 44.0595V79.8324H1173.16L1121.16 44.0595H1063.28Z" fill="black"/>
                  <path d="M1002.02 39.9318H832.431V83.9601H1002.02V39.9318Z" fill="#CCCCCC"/>
                  <path fillRule="evenodd" clipRule="evenodd" d="M828.303 39.9318C828.303 37.6522 830.151 35.8042 832.431 35.8042H1002.02C1004.3 35.8042 1006.15 37.6522 1006.15 39.9318V83.9601C1006.15 86.2397 1004.3 88.0877 1002.02 88.0877H832.431C830.151 88.0877 828.303 86.2397 828.303 83.9601V39.9318ZM836.558 44.0595V79.8324H997.894V44.0595H836.558Z" fill="black"/>
                  <path d="M591.431 4.15887H376.793V125.237H591.431V4.15887Z" fill="white"/>
                  <path fillRule="evenodd" clipRule="evenodd" d="M372.666 0.0312195H595.559V129.364H372.666V0.0312195ZM380.921 8.28652V121.109H587.303V8.28652H380.921Z" fill="black"/>
                  <path d="M591.431 39.9318H376.793V83.9601H591.431V39.9318Z" fill="#CCCCCC"/>
                  <path fillRule="evenodd" clipRule="evenodd" d="M372.666 39.9318C372.666 37.6522 374.514 35.8042 376.793 35.8042H591.431C593.711 35.8042 595.559 37.6522 595.559 39.9318V83.9601C595.559 86.2397 593.711 88.0877 591.431 88.0877H376.793C374.514 88.0877 372.666 86.2397 372.666 83.9601V39.9318ZM380.921 44.0595V79.8324H587.303V44.0595H380.921Z" fill="black"/>
                  <path d="M819.251 4.15887H604.614V125.237H819.251V4.15887Z" fill="white"/>
                  <path fillRule="evenodd" clipRule="evenodd" d="M600.486 0.0312195H823.379V129.364H600.486V0.0312195ZM608.741 8.28652V121.109H815.124V8.28652H608.741Z" fill="black"/>
                  <path d="M819.251 39.9318H604.614V83.9601H819.251V39.9318Z" fill="#CCCCCC"/>
                  <path fillRule="evenodd" clipRule="evenodd" d="M600.486 39.9318C600.486 37.6522 602.334 35.8042 604.614 35.8042H819.251C821.531 35.8042 823.379 37.6522 823.379 39.9318V83.9601C823.379 86.2397 821.531 88.0877 819.251 88.0877H604.614C602.334 88.0877 600.486 86.2397 600.486 83.9601V39.9318ZM608.741 44.0595V79.8324H815.124V44.0595H608.741Z" fill="black"/>
              </svg>
          </div>
          <div className={errorStyles.errorContentContainer}>
              <div className={[errorStyles.errorContentWarn, "blink", (this.state.trainPassed ? errorStyles.dispNone : "")].join(" ")}></div>
              <div className={[errorStyles.errorContentTextContainer, (this.state.trainPassed ? errorStyles.dispFlex : "")].join(" ")}>
                  <p className={errorStyles.errorContentTextHead}>404</p>
                  <span className={errorStyles.errorContentTextInfo}>Hoppla!<br/>Die aufgerufene Seite wurde nicht gefunden!</span>
                  <div className={errorStyles.errorContentButtonContainer}>
                    <Link to="/">ZUR STARTSEITE</Link>
                  </div>
              </div>
          </div>
          <div className={errorStyles.portraitButtonContainer}>
              <div className={errorStyles.errorContentButtonContainer}>
                  <Link to="/">ZUR STARTSEITE</Link>
              </div>
          </div>
        </div>
      </div>
    )
  }
}

export default errorPage